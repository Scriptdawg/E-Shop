<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="I am a Freelance Web Developer based in Alberta, Canada.
  I help businesses improve their web performance and user experience."> 
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/images/favicons/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png">
  <link rel="manifest" href="/images/favicons/site.webmanifest">
  <link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#2e7f56">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="color-scheme" content="light dark" />
  <meta name="apple-mobile-web-app-title" content="Coder's Cove">
  <meta name="application-name" content="Coder's Cove">
  <meta name="msapplication-TileColor" content="#133a26">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="msapplication-config" content="/images/favicons/browserconfig.xml">
  <meta name="theme-color" content="#133a26">
  <!-- application -->
  <!-- loading and parsing index.css is render-blocking -->
  <link rel="stylesheet" href="/stylesheets/index.css">
  <script type="module" src="/javascripts/layout.js"></script>

  <!-- Preload the LCP image with a high fetchpriority so it starts loading with the stylesheet. -->
  <!-- <link rel="preload" fetchpriority="high" as="image" href="/images/slides/image_5.jpg" type="image/webp"> -->
  <!-- loading and parsing print.css is not render-blocking -->
  <!-- <link rel="stylesheet" href="/stylesheets/components/print.css" media="print"> -->
  <!-- loading and parsing mobile.css is not render-blocking on large screens -->
  <!-- <link rel="stylesheet" href="/stylesheets/components/mobile.css" media="screen and (max-width: 480px)"> -->

  <title><%= title %></title>
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://portfolio.scriptdawg.com/">
  <meta property="og:title" content="Paul Oosterhoff | Programmer">
  <meta property="og:description" content="Paul is a programmer based in Alberta, Canada.">
  <meta property="og:image" content="/public/images/favicons/share.png">
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://portfolio.scriptdawg.com/">
  <meta property="twitter:title" content="Paul Oosterhoff | Programmer">
  <meta property="twitter:description" content="Paul is a programmer based in Alberta, Canada.">
  <meta property="twitter:image" content="/public/images/favicons/share.png">
  
  <!-- filepond -->
  <link href="https://unpkg.com/filepond@4/dist/filepond.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet">
  <link href="https://unpkg.com/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.css" rel="stylesheet">
  
  <script defer src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-image-resize/dist/filepond-plugin-image-resize.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js"></script>
  <script defer src="https://unpkg.com/filepond-plugin-image-edit/dist/filepond-plugin-image-edit.js"></script>
  <script defer src="https://unpkg.com/filepond@4/dist/filepond.js"></script>
  <script defer src="/javascripts/fileUpload.js"></script>
</head>
<body>
  <!-- site navigation & banner -->
  <%- include('../layout/top.ejs') %>
<div id="container-subpage-product_create" class="container-subpage">
  <main>

    <h2 class="title large"><%= pageTitle %></h2>
    <form method="POST" action="">
      
      <!-- name -->
      <label for="name">Name *</label><br />
      <input
        type="text"
        id="name"
        name="name"
        placeholder="Enter a name ..."
        value="<%= product.name %>"
        autocomplete="off"
      />
      
      <!-- available -->
      <label for="available">Available *</label><br />
      <input
        type="text"
        id="available"
        name="available"
        placeholder="Enter true or false ..."
        value="<%= product.available %>"
        autocomplete="off"
      />
      
      <!-- category -->
      <label for="category">Category *</label><br />
      <input
        type="text"
        id="category"
        name="category"
        placeholder="Enter beef or chicken ..."
        value="<%= product.category %>"
        autocomplete="off"
      />

      <!-- short description -->
      <label for="shortDescription">Short Description *</label><br />
      <textarea id="shortDescription" name="shortDescription"><%= product.shortDescription %></textarea>

      <!-- long description -->
      <label for="longDescription">Long Description</label><br />
      <textarea id="longDescription" name="longDescription"><%= product.longDescription %></textarea>

      <!-- special message -->
      <label for="specialMessage">Special Message</label><br />
      <textarea id="specialMessage" name="specialMessage"><%= product.specialMessage %></textarea>

      <!-- story -->
      <label for="story">Story *</label><br />
      <select id="story" name="story">
        <% if(!product.story) { %>
          <option value="" selected>Pick a story</option>
        <% } %>
        <% stories.forEach(story => { %>
          <% if(product.story && (product.story.id == story.id)) { %>
            <option value="<%= story.id %>" selected><%= story.name %></option>
          <% } else { %>
            <option value="<%= story.id %>"><%= story.name %></option>
          <% } %>
        <% }) %>
      </select>

      <!-- Price -->
      <label for="price">Price</label><br />
      <input
        type="text"
        id="price"
        name="price"
        placeholder="Enter price ..."
        value="<%= product.price %>"
        autocomplete="off"
      />

      <!-- price type -->
      <label for="priceType">Price Type</label><br />
      <select id="priceType" name="priceType">
        <% if(!product.priceType) {
          product.priceType = "/pound" %>
        <% } %>    
        <% priceTypeSelections.forEach(selection => { %>
          <% if(product.priceType && selection === product.priceType) { %>
            <option value="<%= selection %>" selected><%= selection %></option>
          <% } else { %>
            <option value="<%= selection %>"><%= selection %></option>
          <% } %>
        <% }) %>
      </select>

      <!-- cover image  -->
      <label for="cover">Cover</label>
      <input id="cover" name="cover" type="file" class="filepond" />

      <button type="submit">Submit</button>
    </form>

    <p><i>* required</i></p>

    <% if(errors && errors !=='' ) { %>
      <h3 class="title error">Errors:</h3>
      <ul>
        <% errors.forEach(error=> { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>

  </main>
</div>
  <!-- site footer -->
  <%- include('../layout/bottom.ejs') %>
  
</body>
</html>